apply plugin: 'java'

repositories { mavenCentral() }
dependencies {
    testCompile 'junit:junit:4.12'
    compile 'junit:junit:4.12'
	compile group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1.1'
    compile group: 'mysql', name: 'mysql-connector-java', version: '5.1.6'
}

sourceSets {
   main {
      java {
         srcDir 'src'
      }
   }
	
   test {
      java {
         srcDir 'test'
      }
   }
}

jar {
    from {
        (configurations.runtime).collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }
    manifest {
        attributes("Main-Class": "main.MAIN" )
    }
}

task copyProps(type: Copy) {
    from 'config.properties'
    into "build/libs"
} 

build.finalizedBy(copyProps)